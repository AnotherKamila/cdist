cat << eof

Hey hackers,

cdist has not been published, you're accessing a early in developent
code.

Do not believe anything written in cdist, besides what's written in this file
(everything else may be future stuff for the initial release).

   -- Nico, 20101201


## Conventions

- All variables exported by cdist are prefixed with a double underscore (__)
- All cdist-internal variables are prefixed with __cdist_ and are generally not exported.

## Running cdist when developing

This file is suitable for execution and saving the objects and
explorers from cdist. I usually do it like this:

   % rm -rf /tmp/localhost && ./HACKERS_README

################################################################################
eof

set -x
# Tell the user what we do, so this script makes sense during execution

# prepare use (only from top level directory)
export PATH="$PATH:$(pwd -P)/bin"
export __cdist_conf_dir="$(pwd -P)/conf"

# Allow user to supply hostname
target="${1:-localhost}"

# And use hostname as basedir (dangerous, but hackers know what they do)
export __cdist_local_base_dir="/tmp/$target"

# Run the real script
cdist-deploy-to "$target"

# Display results
find "${__cdist_local_base_dir}"
