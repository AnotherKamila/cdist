#
# This is a sample manifest, but used in real world
#

# This is debug and should not be in a production environment
echo "We could access other manifests in $__manifest"

__file /etc/cdist-configured --type file

case "$__target_host" in
   # Everybody has this
   localhost)
#      __file test --type file --destination /tmp/cdist-testfile
      __addifnosuchline testfile_foo --file /tmp/myTestFile --line "foo"
      __addifnosuchline testfile2_foo --file /tmp/myTestFile2 --line "foo"
      __addifnosuchline testfile_bar --file /tmp/myTestFile --line "bar"
      __addifnosuchline /tmp/myTestFile3 --line "bar"
   ;;

   # Alias in /etc/hosts for localhost
   cdist-archlinux)
      __package_pacman django --state deinstalled
      __package_pacman wireshark-cli --state installed
      __package_pacman zsh --state installed
   ;;
   cdist-gentoo)
      __package tree --state installed
   ;;

   # Real machines
   ikq*)
      __package_apt zsh --state installed
      __package_apt apache2 --state deinstalled
   ;;
   kr)
      __issue iddoesnotmatterhere
   ;;
esac
